var ca=Object.defineProperty;var Ms=e=>{throw TypeError(e)};var va=(e,t,n)=>t in e?ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lt=(e,t,n)=>va(e,typeof t!="symbol"?t+"":t,n),Fr=(e,t,n)=>t.has(e)||Ms("Cannot "+n);var c=(e,t,n)=>(Fr(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?Ms("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),R=(e,t,n,r)=>(Fr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),be=(e,t,n)=>(Fr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const da="5";var js;typeof window<"u"&&((js=window.__svelte??(window.__svelte={})).v??(js.v=new Set)).add(da);const _a=1,pa=2,Vs=4,ha=8,ga=16,Us=1,ma=2,ve=Symbol(),wa="http://www.w3.org/1999/xhtml",Hr=!1;var Ws=Array.isArray,ya=Array.prototype.indexOf,Mr=Array.from,ba=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,Xs=Object.getOwnPropertyDescriptors,xa=Object.prototype,Ea=Array.prototype,Qr=Object.getPrototypeOf,ks=Object.isExtensible;function qa(e){for(var t=0;t<e.length;t++)e[t]()}function Gs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const _e=2,Er=4,kr=8,Ks=1<<24,Pt=16,Dt=32,qn=64,es=128,st=512,Ee=1024,Ae=2048,It=4096,We=8192,Jt=16384,ts=32768,Bn=65536,Rs=1<<17,Zs=1<<18,Wn=1<<19,Sa=1<<20,Nt=1<<25,bn=32768,Yr=1<<21,ns=1<<22,Qt=1<<23,Nn=Symbol("$state"),Ta=Symbol(""),An=new class extends Error{constructor(){super(...arguments);lt(this,"name","StaleReactionError");lt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ma(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ka(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ra(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Aa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ca(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Na(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Oa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $a(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Pa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Da(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Ia(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Js(e){return e===this.v}function Qs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ei(e){return!Qs(e,this.v)}let La=!1,Xe=null;function zn(e){Xe=e}function ti(e,t=!1,n){Xe={p:Xe,i:!1,c:null,e:null,s:e,x:null,l:null}}function ni(e){var t=Xe,n=t.e;if(n!==null){t.e=null;for(var r of n)wi(r)}return t.i=!0,Xe=t.p,{}}function ri(){return!0}let Cn=[];function Fa(){var e=Cn;Cn=[],qa(e)}function Ot(e){if(Cn.length===0){var t=Cn;queueMicrotask(()=>{t===Cn&&Fa()})}Cn.push(e)}function si(e){var t=B;if(t===null)return N.f|=Qt,e;if((t.f&ts)===0){if((t.f&es)===0)throw e;t.b.error(e)}else jn(e,t)}function jn(e,t){for(;t!==null;){if((t.f&es)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Ha=-7169;function le(e,t){e.f=e.f&Ha|t}function rs(e){(e.f&st)!==0||e.deps===null?le(e,Ee):le(e,It)}function ii(e){if(e!==null)for(const t of e)(t.f&_e)===0||(t.f&bn)===0||(t.f^=bn,ii(t.deps))}function ai(e,t,n){(e.f&Ae)!==0?t.add(e):(e.f&It)!==0&&n.add(e),ii(e.deps),le(e,Ee)}const wr=new Set;let W=null,de=null,ut=[],ss=null,Br=!1;var On,$n,_n,Pn,or,Dn,In,Ln,xt,zr,jr,oi;const _s=class _s{constructor(){$(this,xt);lt(this,"committed",!1);lt(this,"current",new Map);lt(this,"previous",new Map);$(this,On,new Set);$(this,$n,new Set);$(this,_n,0);$(this,Pn,0);$(this,or,null);$(this,Dn,new Set);$(this,In,new Set);lt(this,"skipped_effects",new Set);lt(this,"is_fork",!1);$(this,Ln,!1)}is_deferred(){return this.is_fork||c(this,Pn)>0}process(t){var a;ut=[],this.apply();var n=[],r=[];for(const i of t)be(this,xt,zr).call(this,i,n,r);if(this.is_deferred())be(this,xt,jr).call(this,r),be(this,xt,jr).call(this,n);else{for(const i of c(this,On))i();c(this,On).clear(),c(this,_n)===0&&be(this,xt,oi).call(this),W=null,As(r),As(n),(a=c(this,or))==null||a.resolve()}de=null}capture(t,n){n!==ve&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Qt)===0&&(this.current.set(t,t.v),de==null||de.set(t,t.v))}activate(){W=this,this.apply()}deactivate(){W===this&&(W=null,de=null)}flush(){if(this.activate(),ut.length>0){if(Ya(),W!==null&&W!==this)return}else c(this,_n)===0&&this.process([]);this.deactivate()}discard(){for(const t of c(this,$n))t(this);c(this,$n).clear()}increment(t){R(this,_n,c(this,_n)+1),t&&R(this,Pn,c(this,Pn)+1)}decrement(t){R(this,_n,c(this,_n)-1),t&&R(this,Pn,c(this,Pn)-1),!c(this,Ln)&&(R(this,Ln,!0),Ot(()=>{R(this,Ln,!1),this.is_deferred()?ut.length>0&&this.flush():this.revive()}))}revive(){for(const t of c(this,Dn))c(this,In).delete(t),le(t,Ae),$t(t);for(const t of c(this,In))le(t,It),$t(t);this.flush()}oncommit(t){c(this,On).add(t)}ondiscard(t){c(this,$n).add(t)}settled(){return(c(this,or)??R(this,or,Gs())).promise}static ensure(){if(W===null){const t=W=new _s;wr.add(W),Ot(()=>{W===t&&t.flush()})}return W}apply(){}};On=new WeakMap,$n=new WeakMap,_n=new WeakMap,Pn=new WeakMap,or=new WeakMap,Dn=new WeakMap,In=new WeakMap,Ln=new WeakMap,xt=new WeakSet,zr=function(t,n,r){t.f^=Ee;for(var a=t.first,i=null;a!==null;){var o=a.f,v=(o&(Dt|qn))!==0,f=v&&(o&Ee)!==0,d=f||(o&We)!==0||this.skipped_effects.has(a);if(!d&&a.fn!==null){v?a.f^=Ee:i!==null&&(o&(Er|kr|Ks))!==0?i.b.defer_effect(a):(o&Er)!==0?n.push(a):cr(a)&&((o&Pt)!==0&&c(this,Dn).add(a),ar(a));var _=a.first;if(_!==null){a=_;continue}}var w=a.parent;for(a=a.next;a===null&&w!==null;)w===i&&(i=null),a=w.next,w=w.parent}},jr=function(t){for(var n=0;n<t.length;n+=1)ai(t[n],c(this,Dn),c(this,In))},oi=function(){var a;if(wr.size>1){this.previous.clear();var t=de,n=!0;for(const i of wr){if(i===this){n=!1;continue}const o=[];for(const[f,d]of this.current){if(i.current.has(f))if(n&&d!==i.current.get(f))i.current.set(f,d);else continue;o.push(f)}if(o.length===0)continue;const v=[...i.current.keys()].filter(f=>!this.current.has(f));if(v.length>0){var r=ut;ut=[];const f=new Set,d=new Map;for(const _ of o)li(_,v,f,d);if(ut.length>0){W=i,i.apply();for(const _ of ut)be(a=i,xt,zr).call(a,_,[],[]);i.deactivate()}ut=r}}W=null,de=t}this.committed=!0,wr.delete(this)};let en=_s;function Ya(){Br=!0;var e=null;try{for(var t=0;ut.length>0;){var n=en.ensure();if(t++>1e3){var r,a;Ba()}n.process(ut),tn.clear()}}finally{Br=!1,ss=null}}function Ba(){try{Na()}catch(e){jn(e,ss)}}let ft=null;function As(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Jt|We))===0&&cr(r)&&(ft=new Set,ar(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?qi(r):r.fn=null),(ft==null?void 0:ft.size)>0)){tn.clear();for(const a of ft){if((a.f&(Jt|We))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)ft.has(o)&&(ft.delete(o),i.push(o)),o=o.parent;for(let v=i.length-1;v>=0;v--){const f=i[v];(f.f&(Jt|We))===0&&ar(f)}}ft.clear()}}ft=null}}function li(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const i=a.f;(i&_e)!==0?li(a,t,n,r):(i&(ns|Pt))!==0&&(i&Ae)===0&&fi(a,t,r)&&(le(a,Ae),$t(a))}}function fi(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&_e)!==0&&fi(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function $t(e){for(var t=ss=e;t.parent!==null;){t=t.parent;var n=t.f;if(Br&&t===B&&(n&Pt)!==0&&(n&Zs)===0)return;if((n&(qn|Dt))!==0){if((n&Ee)===0)return;t.f^=Ee}}ut.push(t)}function za(e){let t=0,n=xn(0),r;return()=>{ls()&&(s(n),fs(()=>(t===0&&(r=Rr(()=>e(()=>ir(n)))),t+=1,()=>{Ot(()=>{t-=1,t===0&&(r==null||r(),r=void 0,ir(n))})})))}}var ja=Bn|Wn|es;function Va(e,t,n){new Ua(e,t,n)}var tt,Jr,gt,pn,mt,nt,$e,wt,At,Kt,hn,Zt,Fn,gn,Hn,Yn,Ct,Sr,oe,Wa,Xa,Vr,yr,br,Ur;class Ua{constructor(t,n,r){$(this,oe);lt(this,"parent");lt(this,"is_pending",!1);$(this,tt);$(this,Jr,null);$(this,gt);$(this,pn);$(this,mt);$(this,nt,null);$(this,$e,null);$(this,wt,null);$(this,At,null);$(this,Kt,null);$(this,hn,0);$(this,Zt,0);$(this,Fn,!1);$(this,gn,!1);$(this,Hn,new Set);$(this,Yn,new Set);$(this,Ct,null);$(this,Sr,za(()=>(R(this,Ct,xn(c(this,hn))),()=>{R(this,Ct,null)})));R(this,tt,t),R(this,gt,n),R(this,pn,r),this.parent=B.b,this.is_pending=!!c(this,gt).pending,R(this,mt,us(()=>{B.b=this;{var a=be(this,oe,Vr).call(this);try{R(this,nt,rt(()=>r(a)))}catch(i){this.error(i)}c(this,Zt)>0?be(this,oe,br).call(this):this.is_pending=!1}return()=>{var i;(i=c(this,Kt))==null||i.remove()}},ja))}defer_effect(t){ai(t,c(this,Hn),c(this,Yn))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!c(this,gt).pending}update_pending_count(t){be(this,oe,Ur).call(this,t),R(this,hn,c(this,hn)+t),!(!c(this,Ct)||c(this,Fn))&&(R(this,Fn,!0),Ot(()=>{R(this,Fn,!1),c(this,Ct)&&Vn(c(this,Ct),c(this,hn))}))}get_effect_pending(){return c(this,Sr).call(this),s(c(this,Ct))}error(t){var n=c(this,gt).onerror;let r=c(this,gt).failed;if(c(this,gn)||!n&&!r)throw t;c(this,nt)&&(Le(c(this,nt)),R(this,nt,null)),c(this,$e)&&(Le(c(this,$e)),R(this,$e,null)),c(this,wt)&&(Le(c(this,wt)),R(this,wt,null));var a=!1,i=!1;const o=()=>{if(a){Ia();return}a=!0,i&&Da(),en.ensure(),R(this,hn,0),c(this,wt)!==null&&wn(c(this,wt),()=>{R(this,wt,null)}),this.is_pending=this.has_pending_snippet(),R(this,nt,be(this,oe,yr).call(this,()=>(R(this,gn,!1),rt(()=>c(this,pn).call(this,c(this,tt)))))),c(this,Zt)>0?be(this,oe,br).call(this):this.is_pending=!1};var v=N;try{Ie(null),i=!0,n==null||n(t,o),i=!1}catch(f){jn(f,c(this,mt)&&c(this,mt).parent)}finally{Ie(v)}r&&Ot(()=>{R(this,wt,be(this,oe,yr).call(this,()=>{en.ensure(),R(this,gn,!0);try{return rt(()=>{r(c(this,tt),()=>t,()=>o)})}catch(f){return jn(f,c(this,mt).parent),null}finally{R(this,gn,!1)}}))})}}tt=new WeakMap,Jr=new WeakMap,gt=new WeakMap,pn=new WeakMap,mt=new WeakMap,nt=new WeakMap,$e=new WeakMap,wt=new WeakMap,At=new WeakMap,Kt=new WeakMap,hn=new WeakMap,Zt=new WeakMap,Fn=new WeakMap,gn=new WeakMap,Hn=new WeakMap,Yn=new WeakMap,Ct=new WeakMap,Sr=new WeakMap,oe=new WeakSet,Wa=function(){try{R(this,nt,rt(()=>c(this,pn).call(this,c(this,tt))))}catch(t){this.error(t)}},Xa=function(){const t=c(this,gt).pending;t&&(R(this,$e,rt(()=>t(c(this,tt)))),Ot(()=>{var n=be(this,oe,Vr).call(this);R(this,nt,be(this,oe,yr).call(this,()=>(en.ensure(),rt(()=>c(this,pn).call(this,n))))),c(this,Zt)>0?be(this,oe,br).call(this):(wn(c(this,$e),()=>{R(this,$e,null)}),this.is_pending=!1)}))},Vr=function(){var t=c(this,tt);return this.is_pending&&(R(this,Kt,nn()),c(this,tt).before(c(this,Kt)),t=c(this,Kt)),t},yr=function(t){var n=B,r=N,a=Xe;bt(c(this,mt)),Ie(c(this,mt)),zn(c(this,mt).ctx);try{return t()}catch(i){return si(i),null}finally{bt(n),Ie(r),zn(a)}},br=function(){const t=c(this,gt).pending;c(this,nt)!==null&&(R(this,At,document.createDocumentFragment()),c(this,At).append(c(this,Kt)),Mi(c(this,nt),c(this,At))),c(this,$e)===null&&R(this,$e,rt(()=>t(c(this,tt))))},Ur=function(t){var n;if(!this.has_pending_snippet()){this.parent&&be(n=this.parent,oe,Ur).call(n,t);return}if(R(this,Zt,c(this,Zt)+t),c(this,Zt)===0){this.is_pending=!1;for(const r of c(this,Hn))le(r,Ae),$t(r);for(const r of c(this,Yn))le(r,It),$t(r);c(this,Hn).clear(),c(this,Yn).clear(),c(this,$e)&&wn(c(this,$e),()=>{R(this,$e,null)}),c(this,At)&&(c(this,tt).before(c(this,At)),R(this,At,null))}};function Ga(e,t,n,r){const a=is;var i=e.filter(p=>!p.settled);if(n.length===0&&i.length===0){r(t.map(a));return}var o=W,v=B,f=Ka(),d=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(p=>p.promise)):null;function _(p){f();try{r(p)}catch(h){(v.f&Jt)===0&&jn(h,v)}o==null||o.deactivate(),Wr()}if(n.length===0){d.then(()=>_(t.map(a)));return}function w(){f(),Promise.all(n.map(p=>Za(p))).then(p=>_([...t.map(a),...p])).catch(p=>jn(p,v))}d?d.then(w):w()}function Ka(){var e=B,t=N,n=Xe,r=W;return function(i=!0){bt(e),Ie(t),zn(n),i&&(r==null||r.activate())}}function Wr(){bt(null),Ie(null),zn(null)}function is(e){var t=_e|Ae,n=N!==null&&(N.f&_e)!==0?N:null;return B!==null&&(B.f|=Wn),{ctx:Xe,deps:null,effects:null,equals:Js,f:t,fn:e,reactions:null,rv:0,v:ve,wv:0,parent:n??B,ac:null}}function Za(e,t,n){let r=B;r===null&&ka();var a=r.b,i=void 0,o=xn(ve),v=!N,f=new Map;return lo(()=>{var h;var d=Gs();i=d.promise;try{Promise.resolve(e()).then(d.resolve,d.reject).then(()=>{_===W&&_.committed&&_.deactivate(),Wr()})}catch(M){d.reject(M),Wr()}var _=W;if(v){var w=a.is_rendered();a.update_pending_count(1),_.increment(w),(h=f.get(_))==null||h.reject(An),f.delete(_),f.set(_,d)}const p=(M,C=void 0)=>{if(_.activate(),C)C!==An&&(o.f|=Qt,Vn(o,C));else{(o.f&Qt)!==0&&(o.f^=Qt),Vn(o,M);for(const[b,q]of f){if(f.delete(b),b===_)break;q.reject(An)}}v&&(a.update_pending_count(-1),_.decrement(w))};d.promise.then(p,M=>p(null,M||"unknown"))}),mi(()=>{for(const d of f.values())d.reject(An)}),new Promise(d=>{function _(w){function p(){w===i?d(o):_(i)}w.then(p,p)}_(i)})}function Be(e){const t=is(e);return ki(t),t}function Ja(e){const t=is(e);return t.equals=ei,t}function ui(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Le(t[n])}}function Qa(e){for(var t=e.parent;t!==null;){if((t.f&_e)===0)return(t.f&Jt)===0?t:null;t=t.parent}return null}function as(e){var t,n=B;bt(Qa(e));try{e.f&=~bn,ui(e),t=Ni(e)}finally{bt(n)}return t}function ci(e){var t=as(e);if(!e.equals(t)&&(e.wv=Ai(),(!(W!=null&&W.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){le(e,Ee);return}En||(de!==null?(ls()||W!=null&&W.is_fork)&&de.set(e,t):rs(e))}let Xr=new Set;const tn=new Map;let vi=!1;function xn(e,t){var n={f:0,v:e,reactions:null,equals:Js,rv:0,wv:0};return n}function Pe(e,t){const n=xn(e);return ki(n),n}function eo(e,t=!1,n=!0){const r=xn(e);return t||(r.equals=ei),r}function ae(e,t,n=!1){N!==null&&(!vt||(N.f&Rs)!==0)&&ri()&&(N.f&(_e|Pt|ns|Rs))!==0&&!(Re!=null&&Re.includes(e))&&Pa();let r=n?ke(t):t;return Vn(e,r)}function Vn(e,t){if(!e.equals(t)){var n=e.v;En?tn.set(e,t):tn.set(e,n),e.v=t;var r=en.ensure();if(r.capture(e,n),(e.f&_e)!==0){const a=e;(e.f&Ae)!==0&&as(a),rs(a)}e.wv=Ai(),di(e,Ae),B!==null&&(B.f&Ee)!==0&&(B.f&(Dt|qn))===0&&(et===null?uo([e]):et.push(e)),!r.is_fork&&Xr.size>0&&!vi&&to()}return t}function to(){vi=!1;for(const e of Xr)(e.f&Ee)!==0&&le(e,It),cr(e)&&ar(e);Xr.clear()}function ir(e){ae(e,e.v+1)}function di(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var i=n[a],o=i.f,v=(o&Ae)===0;if(v&&le(i,t),(o&_e)!==0){var f=i;de==null||de.delete(f),(o&bn)===0&&(o&st&&(i.f|=bn),di(f,It))}else v&&((o&Pt)!==0&&ft!==null&&ft.add(i),$t(i))}}function ke(e){if(typeof e!="object"||e===null||Nn in e)return e;const t=Qr(e);if(t!==xa&&t!==Ea)return e;var n=new Map,r=Ws(e),a=Pe(0),i=yn,o=v=>{if(yn===i)return v();var f=N,d=yn;Ie(null),Os(i);var _=v();return Ie(f),Os(d),_};return r&&n.set("length",Pe(e.length)),new Proxy(e,{defineProperty(v,f,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Oa();var _=n.get(f);return _===void 0?_=o(()=>{var w=Pe(d.value);return n.set(f,w),w}):ae(_,d.value,!0),!0},deleteProperty(v,f){var d=n.get(f);if(d===void 0){if(f in v){const _=o(()=>Pe(ve));n.set(f,_),ir(a)}}else ae(d,ve),ir(a);return!0},get(v,f,d){var h;if(f===Nn)return e;var _=n.get(f),w=f in v;if(_===void 0&&(!w||(h=sr(v,f))!=null&&h.writable)&&(_=o(()=>{var M=ke(w?v[f]:ve),C=Pe(M);return C}),n.set(f,_)),_!==void 0){var p=s(_);return p===ve?void 0:p}return Reflect.get(v,f,d)},getOwnPropertyDescriptor(v,f){var d=Reflect.getOwnPropertyDescriptor(v,f);if(d&&"value"in d){var _=n.get(f);_&&(d.value=s(_))}else if(d===void 0){var w=n.get(f),p=w==null?void 0:w.v;if(w!==void 0&&p!==ve)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return d},has(v,f){var p;if(f===Nn)return!0;var d=n.get(f),_=d!==void 0&&d.v!==ve||Reflect.has(v,f);if(d!==void 0||B!==null&&(!_||(p=sr(v,f))!=null&&p.writable)){d===void 0&&(d=o(()=>{var h=_?ke(v[f]):ve,M=Pe(h);return M}),n.set(f,d));var w=s(d);if(w===ve)return!1}return _},set(v,f,d,_){var te;var w=n.get(f),p=f in v;if(r&&f==="length")for(var h=d;h<w.v;h+=1){var M=n.get(h+"");M!==void 0?ae(M,ve):h in v&&(M=o(()=>Pe(ve)),n.set(h+"",M))}if(w===void 0)(!p||(te=sr(v,f))!=null&&te.writable)&&(w=o(()=>Pe(void 0)),ae(w,ke(d)),n.set(f,w));else{p=w.v!==ve;var C=o(()=>ke(d));ae(w,C)}var b=Reflect.getOwnPropertyDescriptor(v,f);if(b!=null&&b.set&&b.set.call(_,d),!p){if(r&&typeof f=="string"){var q=n.get("length"),ee=Number(f);Number.isInteger(ee)&&ee>=q.v&&ae(q,ee+1)}ir(a)}return!0},ownKeys(v){s(a);var f=Reflect.ownKeys(v).filter(w=>{var p=n.get(w);return p===void 0||p.v!==ve});for(var[d,_]of n)_.v!==ve&&!(d in v)&&f.push(d);return f},setPrototypeOf(){$a()}})}var Cs,_i,pi,hi;function no(){if(Cs===void 0){Cs=window,_i=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;pi=sr(t,"firstChild").get,hi=sr(t,"nextSibling").get,ks(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ks(n)&&(n.__t=void 0)}}function nn(e=""){return document.createTextNode(e)}function Ue(e){return pi.call(e)}function ur(e){return hi.call(e)}function y(e,t){return Ue(e)}function xe(e,t=!1){{var n=Ue(e);return n instanceof Comment&&n.data===""?ur(n):n}}function k(e,t=1,n=!1){let r=e;for(;t--;)r=ur(r);return r}function ro(e){e.textContent=""}function gi(){return!1}function os(e){var t=N,n=B;Ie(null),bt(null);try{return e()}finally{Ie(t),bt(n)}}function so(e){B===null&&(N===null&&Ca(),Aa()),En&&Ra()}function io(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Lt(e,t,n){var r=B;r!==null&&(r.f&We)!==0&&(e|=We);var a={ctx:Xe,deps:null,nodes:null,f:e|Ae|st,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ar(a),a.f|=ts}catch(v){throw Le(a),v}else t!==null&&$t(a);var i=a;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Wn)===0&&(i=i.first,(e&Pt)!==0&&(e&Bn)!==0&&i!==null&&(i.f|=Bn)),i!==null&&(i.parent=r,r!==null&&io(i,r),N!==null&&(N.f&_e)!==0&&(e&qn)===0)){var o=N;(o.effects??(o.effects=[])).push(i)}return a}function ls(){return N!==null&&!vt}function mi(e){const t=Lt(kr,null,!1);return le(t,Ee),t.teardown=e,t}function ao(e){so();var t=B.f,n=!N&&(t&Dt)!==0&&(t&ts)===0;if(n){var r=Xe;(r.e??(r.e=[])).push(e)}else return wi(e)}function wi(e){return Lt(Er|Sa,e,!1)}function oo(e){en.ensure();const t=Lt(qn|Wn,e,!0);return(n={})=>new Promise(r=>{n.outro?wn(t,()=>{Le(t),r(void 0)}):(Le(t),r(void 0))})}function yi(e){return Lt(Er,e,!1)}function lo(e){return Lt(ns|Wn,e,!0)}function fs(e,t=0){return Lt(kr|t,e,!0)}function P(e,t=[],n=[],r=[]){Ga(r,t,n,a=>{Lt(kr,()=>e(...a.map(s)),!0)})}function us(e,t=0){var n=Lt(Pt|t,e,!0);return n}function rt(e){return Lt(Dt|Wn,e,!0)}function bi(e){var t=e.teardown;if(t!==null){const n=En,r=N;Ns(!0),Ie(null);try{t.call(null)}finally{Ns(n),Ie(r)}}}function xi(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&os(()=>{a.abort(An)});var r=n.next;(n.f&qn)!==0?n.parent=null:Le(n,t),n=r}}function fo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Dt)===0&&Le(t),t=n}}function Le(e,t=!0){var n=!1;(t||(e.f&Zs)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ei(e.nodes.start,e.nodes.end),n=!0),xi(e,t&&!n),qr(e,0),le(e,Jt);var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)i.stop();bi(e);var a=e.parent;a!==null&&a.first!==null&&qi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ei(e,t){for(;e!==null;){var n=e===t?null:ur(e);e.remove(),e=n}}function qi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function wn(e,t,n=!0){var r=[];Si(e,r,!0);var a=()=>{n&&Le(e),t&&t()},i=r.length;if(i>0){var o=()=>--i||a();for(var v of r)v.out(o)}else a()}function Si(e,t,n){if((e.f&We)===0){e.f^=We;var r=e.nodes&&e.nodes.t;if(r!==null)for(const v of r)(v.is_global||n)&&t.push(v);for(var a=e.first;a!==null;){var i=a.next,o=(a.f&Bn)!==0||(a.f&Dt)!==0&&(e.f&Pt)!==0;Si(a,t,o?n:!1),a=i}}}function cs(e){Ti(e,!0)}function Ti(e,t){if((e.f&We)!==0){e.f^=We,(e.f&Ee)===0&&(le(e,Ae),$t(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Bn)!==0||(n.f&Dt)!==0;Ti(n,a?t:!1),n=r}var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||t)&&o.in()}}function Mi(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var a=n===r?null:ur(n);t.append(n),n=a}}let xr=!1,En=!1;function Ns(e){En=e}let N=null,vt=!1;function Ie(e){N=e}let B=null;function bt(e){B=e}let Re=null;function ki(e){N!==null&&(Re===null?Re=[e]:Re.push(e))}let De=null,je=0,et=null;function uo(e){et=e}let Ri=1,dn=0,yn=dn;function Os(e){yn=e}function Ai(){return++Ri}function cr(e){var t=e.f;if((t&Ae)!==0)return!0;if(t&_e&&(e.f&=~bn),(t&It)!==0){for(var n=e.deps,r=n.length,a=0;a<r;a++){var i=n[a];if(cr(i)&&ci(i),i.wv>e.wv)return!0}(t&st)!==0&&de===null&&le(e,Ee)}return!1}function Ci(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Re!=null&&Re.includes(e)))for(var a=0;a<r.length;a++){var i=r[a];(i.f&_e)!==0?Ci(i,t,!1):t===i&&(n?le(i,Ae):(i.f&Ee)!==0&&le(i,It),$t(i))}}function Ni(e){var M;var t=De,n=je,r=et,a=N,i=Re,o=Xe,v=vt,f=yn,d=e.f;De=null,je=0,et=null,N=(d&(Dt|qn))===0?e:null,Re=null,zn(e.ctx),vt=!1,yn=++dn,e.ac!==null&&(os(()=>{e.ac.abort(An)}),e.ac=null);try{e.f|=Yr;var _=e.fn,w=_(),p=e.deps;if(De!==null){var h;if(qr(e,je),p!==null&&je>0)for(p.length=je+De.length,h=0;h<De.length;h++)p[je+h]=De[h];else e.deps=p=De;if(ls()&&(e.f&st)!==0)for(h=je;h<p.length;h++)((M=p[h]).reactions??(M.reactions=[])).push(e)}else p!==null&&je<p.length&&(qr(e,je),p.length=je);if(ri()&&et!==null&&!vt&&p!==null&&(e.f&(_e|It|Ae))===0)for(h=0;h<et.length;h++)Ci(et[h],e);if(a!==null&&a!==e){if(dn++,a.deps!==null)for(let C=0;C<n;C+=1)a.deps[C].rv=dn;if(t!==null)for(const C of t)C.rv=dn;et!==null&&(r===null?r=et:r.push(...et))}return(e.f&Qt)!==0&&(e.f^=Qt),w}catch(C){return si(C)}finally{e.f^=Yr,De=t,je=n,et=r,N=a,Re=i,zn(o),vt=v,yn=f}}function co(e,t){let n=t.reactions;if(n!==null){var r=ya.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}if(n===null&&(t.f&_e)!==0&&(De===null||!De.includes(t))){var i=t;(i.f&st)!==0&&(i.f^=st,i.f&=~bn),rs(i),ui(i),qr(i,0)}}function qr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)co(e,n[r])}function ar(e){var t=e.f;if((t&Jt)===0){le(e,Ee);var n=B,r=xr;B=e,xr=!0;try{(t&(Pt|Ks))!==0?fo(e):xi(e),bi(e);var a=Ni(e);e.teardown=typeof a=="function"?a:null,e.wv=Ri;var i;Hr&&La&&(e.f&Ae)!==0&&e.deps}finally{xr=r,B=n}}}function s(e){var t=e.f,n=(t&_e)!==0;if(N!==null&&!vt){var r=B!==null&&(B.f&Jt)!==0;if(!r&&!(Re!=null&&Re.includes(e))){var a=N.deps;if((N.f&Yr)!==0)e.rv<dn&&(e.rv=dn,De===null&&a!==null&&a[je]===e?je++:De===null?De=[e]:De.push(e));else{(N.deps??(N.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[N]:i.includes(N)||i.push(N)}}}if(En&&tn.has(e))return tn.get(e);if(n){var o=e;if(En){var v=o.v;return((o.f&Ee)===0&&o.reactions!==null||$i(o))&&(v=as(o)),tn.set(o,v),v}var f=(o.f&st)===0&&!vt&&N!==null&&(xr||(N.f&st)!==0),d=o.deps===null;cr(o)&&(f&&(o.f|=st),ci(o)),f&&!d&&Oi(o)}if(de!=null&&de.has(e))return de.get(e);if((e.f&Qt)!==0)throw e.v;return e.v}function Oi(e){if(e.deps!==null){e.f|=st;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&_e)!==0&&(t.f&st)===0&&Oi(t)}}function $i(e){if(e.v===ve)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(tn.has(t)||(t.f&_e)!==0&&$i(t))return!0;return!1}function Rr(e){var t=vt;try{return vt=!0,e()}finally{vt=t}}function vo(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Nn in e)Gr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Nn in n&&Gr(n)}}}function Gr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gr(e[r],t)}catch{}const n=Qr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Xs(n);for(let a in r){const i=r[a].get;if(i)try{i.call(e)}catch{}}}}}const Pi=new Set,Kr=new Set;function _o(e,t,n,r={}){function a(i){if(r.capture||nr.call(t,i),!i.cancelBubble)return os(()=>n==null?void 0:n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ot(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function $s(e,t,n,r,a){var i={capture:r,passive:a},o=_o(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&mi(()=>{t.removeEventListener(e,o,i)})}function po(e){for(var t=0;t<e.length;t++)Pi.add(e[t]);for(var n of Kr)n(e)}let Ps=null;function nr(e){var b;var t=this,n=t.ownerDocument,r=e.type,a=((b=e.composedPath)==null?void 0:b.call(e))||[],i=a[0]||e.target;Ps=e;var o=0,v=Ps===e&&e.__root;if(v){var f=a.indexOf(v);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var d=a.indexOf(t);if(d===-1)return;f<=d&&(o=f)}if(i=a[o]||e.target,i!==t){ba(e,"currentTarget",{configurable:!0,get(){return i||n}});var _=N,w=B;Ie(null),bt(null);try{for(var p,h=[];i!==null;){var M=i.assignedSlot||i.parentNode||i.host||null;try{var C=i["__"+r];C!=null&&(!i.disabled||e.target===i)&&C.call(i,e)}catch(q){p?h.push(q):p=q}if(e.cancelBubble||M===t||M===null)break;i=M}if(p){for(let q of h)queueMicrotask(()=>{throw q});throw p}}finally{e.__root=t,delete e.currentTarget,Ie(_),bt(w)}}}function vs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Un(e,t){var n=B;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var n=(t&Us)!==0,r=(t&ma)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=vs(i?e:"<!>"+e),n||(a=Ue(a)));var o=r||_i?document.importNode(a,!0):a.cloneNode(!0);if(n){var v=Ue(o),f=o.lastChild;Un(v,f)}else Un(o,o);return o}}function ho(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&Us)!==0,i=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var v=vs(i),f=Ue(v);if(a)for(o=document.createDocumentFragment();Ue(f);)o.appendChild(Ue(f));else o=Ue(f)}var d=o.cloneNode(!0);if(a){var _=Ue(d),w=d.lastChild;Un(_,w)}else Un(d,d);return d}}function rn(e,t){return ho(e,t,"svg")}function Qe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=nn();return e.append(t,n),Un(t,n),e}function x(e,t){e!==null&&e.before(t)}const go=["touchstart","touchmove"];function mo(e){return go.includes(e)}function j(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function wo(e,t){return yo(e,t)}const Rn=new Map;function yo(e,{target:t,anchor:n,props:r={},events:a,context:i,intro:o=!0}){no();var v=new Set,f=w=>{for(var p=0;p<w.length;p++){var h=w[p];if(!v.has(h)){v.add(h);var M=mo(h);t.addEventListener(h,nr,{passive:M});var C=Rn.get(h);C===void 0?(document.addEventListener(h,nr,{passive:M}),Rn.set(h,1)):Rn.set(h,C+1)}}};f(Mr(Pi)),Kr.add(f);var d=void 0,_=oo(()=>{var w=n??t.appendChild(nn());return Va(w,{pending:()=>{}},p=>{if(i){ti({});var h=Xe;h.c=i}a&&(r.$$events=a),d=e(p,r)||{},i&&ni()}),()=>{var M;for(var p of v){t.removeEventListener(p,nr);var h=Rn.get(p);--h===0?(document.removeEventListener(p,nr),Rn.delete(p)):Rn.set(p,h)}Kr.delete(f),w!==n&&((M=w.parentNode)==null||M.removeChild(w))}});return bo.set(d,_),d}let bo=new WeakMap;var ct,yt,Ve,mn,lr,fr,Tr;class xo{constructor(t,n=!0){lt(this,"anchor");$(this,ct,new Map);$(this,yt,new Map);$(this,Ve,new Map);$(this,mn,new Set);$(this,lr,!0);$(this,fr,()=>{var t=W;if(c(this,ct).has(t)){var n=c(this,ct).get(t),r=c(this,yt).get(n);if(r)cs(r),c(this,mn).delete(n);else{var a=c(this,Ve).get(n);a&&(c(this,yt).set(n,a.effect),c(this,Ve).delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[i,o]of c(this,ct)){if(c(this,ct).delete(i),i===t)break;const v=c(this,Ve).get(o);v&&(Le(v.effect),c(this,Ve).delete(o))}for(const[i,o]of c(this,yt)){if(i===n||c(this,mn).has(i))continue;const v=()=>{if(Array.from(c(this,ct).values()).includes(i)){var d=document.createDocumentFragment();Mi(o,d),d.append(nn()),c(this,Ve).set(i,{effect:o,fragment:d})}else Le(o);c(this,mn).delete(i),c(this,yt).delete(i)};c(this,lr)||!r?(c(this,mn).add(i),wn(o,v,!1)):v()}}});$(this,Tr,t=>{c(this,ct).delete(t);const n=Array.from(c(this,ct).values());for(const[r,a]of c(this,Ve))n.includes(r)||(Le(a.effect),c(this,Ve).delete(r))});this.anchor=t,R(this,lr,n)}ensure(t,n){var r=W,a=gi();if(n&&!c(this,yt).has(t)&&!c(this,Ve).has(t))if(a){var i=document.createDocumentFragment(),o=nn();i.append(o),c(this,Ve).set(t,{effect:rt(()=>n(o)),fragment:i})}else c(this,yt).set(t,rt(()=>n(this.anchor)));if(c(this,ct).set(r,t),a){for(const[v,f]of c(this,yt))v===t?r.skipped_effects.delete(f):r.skipped_effects.add(f);for(const[v,f]of c(this,Ve))v===t?r.skipped_effects.delete(f.effect):r.skipped_effects.add(f.effect);r.oncommit(c(this,fr)),r.ondiscard(c(this,Tr))}else c(this,fr).call(this)}}ct=new WeakMap,yt=new WeakMap,Ve=new WeakMap,mn=new WeakMap,lr=new WeakMap,fr=new WeakMap,Tr=new WeakMap;function Eo(e){Xe===null&&Ma(),ao(()=>{const t=Rr(e);if(typeof t=="function")return t})}function Y(e,t,n=!1){var r=new xo(e),a=n?Bn:0;function i(o,v){r.ensure(o,v)}us(()=>{var o=!1;t((v,f=!0)=>{o=!0,i(f,v)}),o||i(!1,null)},a)}function Ds(e,t){return t}function qo(e,t,n){for(var r=[],a=t.length,i,o=t.length,v=0;v<a;v++){let w=t[v];wn(w,()=>{if(i){if(i.pending.delete(w),i.done.add(w),i.pending.size===0){var p=e.outrogroups;Zr(Mr(i.done)),p.delete(i),p.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var f=r.length===0&&n!==null;if(f){var d=n,_=d.parentNode;ro(_),_.append(d),e.items.clear()}Zr(t,!f)}else i={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(i)}function Zr(e,t=!0){for(var n=0;n<e.length;n++)Le(e[n],t)}var Is;function ht(e,t,n,r,a,i=null){var o=e,v=new Map,f=(t&Vs)!==0;if(f){var d=e;o=d.appendChild(nn())}var _=null,w=Ja(()=>{var q=n();return Ws(q)?q:q==null?[]:Mr(q)}),p,h=!0;function M(){b.fallback=_,So(b,p,o,t,r),_!==null&&(p.length===0?(_.f&Nt)===0?cs(_):(_.f^=Nt,rr(_,null,o)):wn(_,()=>{_=null}))}var C=us(()=>{p=s(w);for(var q=p.length,ee=new Set,te=W,pe=gi(),qe=0;qe<q;qe+=1){var dt=p[qe],Se=r(dt,qe),Te=h?null:v.get(Se);Te?(Te.v&&Vn(Te.v,dt),Te.i&&Vn(Te.i,qe),pe&&te.skipped_effects.delete(Te.e)):(Te=To(v,h?o:Is??(Is=nn()),dt,Se,qe,a,t,n),h||(Te.e.f|=Nt),v.set(Se,Te)),ee.add(Se)}if(q===0&&i&&!_&&(h?_=rt(()=>i(o)):(_=rt(()=>i(Is??(Is=nn()))),_.f|=Nt)),!h)if(pe){for(const[Sn,sn]of v)ee.has(Sn)||te.skipped_effects.add(sn.e);te.oncommit(M),te.ondiscard(()=>{})}else M();s(w)}),b={effect:C,items:v,outrogroups:null,fallback:_};h=!1}function So(e,t,n,r,a){var sn,vr,dr,an,on,Tn,Mn,Xn,Gn;var i=(r&ha)!==0,o=t.length,v=e.items,f=e.effect.first,d,_=null,w,p=[],h=[],M,C,b,q;if(i)for(q=0;q<o;q+=1)M=t[q],C=a(M,q),b=v.get(C).e,(b.f&Nt)===0&&((vr=(sn=b.nodes)==null?void 0:sn.a)==null||vr.measure(),(w??(w=new Set)).add(b));for(q=0;q<o;q+=1){if(M=t[q],C=a(M,q),b=v.get(C).e,e.outrogroups!==null)for(const Ge of e.outrogroups)Ge.pending.delete(b),Ge.done.delete(b);if((b.f&Nt)!==0)if(b.f^=Nt,b===f)rr(b,null,n);else{var ee=_?_.next:f;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),Gt(e,_,b),Gt(e,b,ee),rr(b,ee,n),_=b,p=[],h=[],f=_.next;continue}if((b.f&We)!==0&&(cs(b),i&&((an=(dr=b.nodes)==null?void 0:dr.a)==null||an.unfix(),(w??(w=new Set)).delete(b))),b!==f){if(d!==void 0&&d.has(b)){if(p.length<h.length){var te=h[0],pe;_=te.prev;var qe=p[0],dt=p[p.length-1];for(pe=0;pe<p.length;pe+=1)rr(p[pe],te,n);for(pe=0;pe<h.length;pe+=1)d.delete(h[pe]);Gt(e,qe.prev,dt.next),Gt(e,_,qe),Gt(e,dt,te),f=te,_=dt,q-=1,p=[],h=[]}else d.delete(b),rr(b,f,n),Gt(e,b.prev,b.next),Gt(e,b,_===null?e.effect.first:_.next),Gt(e,_,b),_=b;continue}for(p=[],h=[];f!==null&&f!==b;)(d??(d=new Set)).add(f),h.push(f),f=f.next;if(f===null)continue}(b.f&Nt)===0&&p.push(b),_=b,f=b.next}if(e.outrogroups!==null){for(const Ge of e.outrogroups)Ge.pending.size===0&&(Zr(Mr(Ge.done)),(on=e.outrogroups)==null||on.delete(Ge));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||d!==void 0){var Se=[];if(d!==void 0)for(b of d)(b.f&We)===0&&Se.push(b);for(;f!==null;)(f.f&We)===0&&f!==e.fallback&&Se.push(f),f=f.next;var Te=Se.length;if(Te>0){var Sn=(r&Vs)!==0&&o===0?n:null;if(i){for(q=0;q<Te;q+=1)(Mn=(Tn=Se[q].nodes)==null?void 0:Tn.a)==null||Mn.measure();for(q=0;q<Te;q+=1)(Gn=(Xn=Se[q].nodes)==null?void 0:Xn.a)==null||Gn.fix()}qo(e,Se,Sn)}}i&&Ot(()=>{var Ge,Kn;if(w!==void 0)for(b of w)(Kn=(Ge=b.nodes)==null?void 0:Ge.a)==null||Kn.apply()})}function To(e,t,n,r,a,i,o,v){var f=(o&_a)!==0?(o&ga)===0?eo(n,!1,!1):xn(n):null,d=(o&pa)!==0?xn(a):null;return{v:f,i:d,e:rt(()=>(i(t,f??n,d??a,v),()=>{e.delete(r)}))}}function rr(e,t,n){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end,i=t&&(t.f&Nt)===0?t.nodes.start:n;r!==null;){var o=ur(r);if(i.before(r),r===a)return;r=o}}function Gt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Ls(e,t,n=!1,r=!1,a=!1){var i=e,o="";P(()=>{var v=B;if(o!==(o=t()??"")&&(v.nodes!==null&&(Ei(v.nodes.start,v.nodes.end),v.nodes=null),o!=="")){var f=o+"";n?f=`<svg>${f}</svg>`:r&&(f=`<math>${f}</math>`);var d=vs(f);if((n||r)&&(d=Ue(d)),Un(Ue(d),d.lastChild),n||r)for(;Ue(d);)i.before(Ue(d));else i.before(d)}})}function Fs(e,t,n){yi(()=>{var r=Rr(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1,i={};fs(()=>{var o=n();vo(o),a&&Qs(i,o)&&(i=o,r.update(o))}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const Hs=[...` 	
\r\f \v\uFEFF`];function Mo(e,t,n){var r=e==null?"":""+e;if(n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,o=0;(o=r.indexOf(a,o))>=0;){var v=o+i;(o===0||Hs.includes(r[o-1]))&&(v===r.length||Hs.includes(r[v]))?r=(o===0?"":r.substring(0,o))+r.substring(v+1):o=v}}return r===""?null:r}function ko(e,t){return e==null?null:String(e)}function Ys(e,t,n,r,a,i){var o=e.__className;if(o!==n||o===void 0){var v=Mo(n,r,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=n}else if(i&&a!==i)for(var f in i){var d=!!i[f];(a==null||d!==!!a[f])&&e.classList.toggle(f,d)}return i}function er(e,t,n,r){var a=e.__style;if(a!==t){var i=ko(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}const Ro=Symbol("is custom element"),Ao=Symbol("is html");function tr(e,t){var n=ds(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Co(e,t){var n=ds(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function No(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ze(e,t,n,r){var a=ds(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Ta]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Oo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ds(e){return e.__attributes??(e.__attributes={[Ro]:e.nodeName.includes("-"),[Ao]:e.namespaceURI===wa})}var Bs=new Map;function Oo(e){var t=e.getAttribute("is")||e.nodeName,n=Bs.get(t);if(n)return n;Bs.set(t,n=[]);for(var r,a=e,i=Element.prototype;i!==a;){r=Xs(a);for(var o in r)r[o].set&&n.push(o);a=Qr(a)}return n}function zs(e,t){return e===t||(e==null?void 0:e[Nn])===t}function $o(e={},t,n,r){return yi(()=>{var a,i;return fs(()=>{a=i,i=[],Rr(()=>{e!==n(...i)&&(t(e,...i),a&&zs(n(...a),e)&&t(null,...a))})}),()=>{Ot(()=>{i&&zs(n(...i),e)&&t(null,...i)})}}),e}var Po=A('<div class="connection-status svelte-1n46o8q">Connecting...</div>'),Do=A('<div class="connection-status svelte-1n46o8q">Loading graph...</div>'),Io=rn('<path class="edge-path edge-fork svelte-1n46o8q"></path>'),Lo=rn('<path class="edge-path svelte-1n46o8q"></path><!>',1),Fo=rn('<svg class="run-icon-svg run-icon-map svelte-1n46o8q" viewBox="0 0 14 12" fill="currentColor"><path d="M2 1 L12 6 L2 11 Z" opacity="0.5" transform="translate(-2, 0)" class="svelte-1n46o8q"></path><path d="M2 1 L12 6 L2 11 Z" transform="translate(2, 0)" class="svelte-1n46o8q"></path></svg>'),Ho=rn('<svg class="run-icon-svg svelte-1n46o8q" viewBox="0 0 10 12" fill="currentColor"><path d="M1 1 L9 6 L1 11 Z" class="svelte-1n46o8q"></path></svg>'),Yo=A('<span class="run-badge svelte-1n46o8q"> </span>'),Bo=A('<span role="button" tabindex="0"><!> <!></span>'),zo=A('<div class="port-row svelte-1n46o8q"><span class="port-dot input svelte-1n46o8q"></span> <span class="port-label svelte-1n46o8q"> </span></div>'),jo=A('<div class="port-row svelte-1n46o8q"><span class="port-label svelte-1n46o8q"> </span> <span class="port-dot output svelte-1n46o8q"></span></div>'),Vo=A('<textarea class="gr-input svelte-1n46o8q"></textarea>'),Uo=A('<input type="text" class="gr-input svelte-1n46o8q"/>'),Wo=A('<div class="gr-textbox-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <!></div>'),Xo=A('<div class="gr-textbox-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <input type="number" class="gr-input svelte-1n46o8q"/></div>'),Go=A('<label class="gr-checkbox-wrap svelte-1n46o8q"><input type="checkbox" class="svelte-1n46o8q"/> <span class="gr-check-label svelte-1n46o8q"> </span></label>'),Ko=A('<div class="gr-textbox-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <div class="gr-markdown svelte-1n46o8q"><!></div></div>'),Zo=A('<div class="gr-textbox-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <div class="gr-html svelte-1n46o8q"><!></div></div>'),Jo=A('<div class="gr-textbox-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <pre class="gr-json svelte-1n46o8q"> </pre></div>'),Qo=rn('<svg viewBox="0 0 24 24" fill="currentColor" class="svelte-1n46o8q"><rect x="6" y="4" width="4" height="16" class="svelte-1n46o8q"></rect><rect x="14" y="4" width="4" height="16" class="svelte-1n46o8q"></rect></svg>'),el=rn('<svg viewBox="0 0 24 24" fill="currentColor" class="svelte-1n46o8q"><path d="M8 5v14l11-7z" class="svelte-1n46o8q"></path></svg>'),tl=A('<audio preload="metadata" style="display:none" class="svelte-1n46o8q"></audio> <div class="audio-player svelte-1n46o8q"><button class="audio-play-btn svelte-1n46o8q"><!></button> <div class="audio-progress svelte-1n46o8q"><div class="audio-progress-fill svelte-1n46o8q"></div></div> <span class="audio-time svelte-1n46o8q"> </span></div>',1),nl=A('<div class="gr-empty svelte-1n46o8q">No audio</div>'),rl=A('<div class="gr-audio-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <!></div>'),sl=A('<img class="gr-image svelte-1n46o8q"/>'),il=A('<div class="gr-empty svelte-1n46o8q">No image</div>'),al=A('<div class="gr-textbox-wrap svelte-1n46o8q"><span class="gr-label svelte-1n46o8q"> </span> <!></div>'),ol=A('<pre class="svelte-1n46o8q"> </pre>'),ll=A('<div class="gr-fallback svelte-1n46o8q"><span class="fallback-type svelte-1n46o8q"> </span> <!></div>'),fl=A('<div class="embedded-component svelte-1n46o8q"><!></div>'),ul=A('<div class="result-selector svelte-1n46o8q"><button class="result-nav svelte-1n46o8q">‹</button> <span class="result-counter svelte-1n46o8q"> </span> <button class="result-nav svelte-1n46o8q">›</button></div>'),cl=A('<div class="embedded-components svelte-1n46o8q"></div> <!>',1),vl=rn('<svg viewBox="0 0 24 24" fill="currentColor" class="svelte-1n46o8q"><rect x="6" y="4" width="4" height="16" class="svelte-1n46o8q"></rect><rect x="14" y="4" width="4" height="16" class="svelte-1n46o8q"></rect></svg>'),dl=rn('<svg viewBox="0 0 24 24" fill="currentColor" class="svelte-1n46o8q"><path d="M8 5v14l11-7z" class="svelte-1n46o8q"></path></svg>'),_l=A('<audio preload="metadata" style="display:none" class="svelte-1n46o8q"></audio> <div class="audio-player audio-player-compact svelte-1n46o8q"><button class="audio-play-btn svelte-1n46o8q"><!></button> <div class="audio-progress svelte-1n46o8q"><div class="audio-progress-fill svelte-1n46o8q"></div></div> <span class="audio-time svelte-1n46o8q"> </span></div>',1),pl=A('<span class="map-item-preview svelte-1n46o8q"> </span>'),hl=A('<span class="map-item-preview map-item-pending svelte-1n46o8q">Pending...</span>'),gl=A('<div><span class="map-item-index svelte-1n46o8q"> </span> <div class="map-item-content svelte-1n46o8q"><!></div> <button class="map-item-replay svelte-1n46o8q"> </button></div>'),ml=A('<div class="map-items-section svelte-1n46o8q"><div class="map-items-header svelte-1n46o8q"><span class="map-items-title svelte-1n46o8q"> </span></div> <div class="map-items-list svelte-1n46o8q"></div></div>'),wl=A('<option class="svelte-1n46o8q"> </option>'),yl=A('<select class="gr-select svelte-1n46o8q"></select>'),bl=A('<textarea class="gr-input svelte-1n46o8q"></textarea>'),xl=A('<input type="text" class="gr-input svelte-1n46o8q"/>'),El=A('<div class="gr-textbox-wrap item-list-textbox svelte-1n46o8q"><!></div>'),ql=A('<div class="item-list-item svelte-1n46o8q"><span class="item-list-index svelte-1n46o8q"> </span> <div class="item-list-fields svelte-1n46o8q"></div></div>'),Sl=A('<div class="item-list-section svelte-1n46o8q"><div class="item-list-header svelte-1n46o8q"><span class="item-list-title svelte-1n46o8q"> </span></div> <div class="item-list-items svelte-1n46o8q"></div></div>'),Tl=A('<div class="node svelte-1n46o8q"><div class="node-header svelte-1n46o8q"><span class="type-badge svelte-1n46o8q"> </span> <span class="node-name svelte-1n46o8q"> </span> <!></div> <div class="node-body svelte-1n46o8q"><div class="ports-left svelte-1n46o8q"></div> <div class="ports-right svelte-1n46o8q"></div></div> <!> <!> <!></div>'),Ml=A('<div class="canvas svelte-1n46o8q" role="application"><div class="grid-bg svelte-1n46o8q"></div> <!> <div class="canvas-transform svelte-1n46o8q"><svg class="edges-svg svelte-1n46o8q"></svg> <!></div> <div class="zoom-controls svelte-1n46o8q"><button class="zoom-btn svelte-1n46o8q" title="Zoom out">−</button> <span class="zoom-level svelte-1n46o8q"> </span> <button class="zoom-btn svelte-1n46o8q" title="Zoom in">+</button> <button class="zoom-btn fit-btn svelte-1n46o8q" title="Fit all nodes">⊡</button></div> <div class="title-bar svelte-1n46o8q"><span class="title svelte-1n46o8q"> </span></div></div>');function kl(e,t){ti(t,!0);let n,r=Pe(ke({x:0,y:0,scale:1})),a=Pe(!1),i=Pe(ke({x:0,y:0})),o=Pe(null),v=Pe(null),f=null,d=Pe(!1),_=0,w=10,p=!1,h=null,M=ke({}),C=ke({}),b=ke({}),q=ke({}),ee=ke({}),te=ke({});const pe=new Set;let qe=Be(()=>{var u;return((u=s(o))==null?void 0:u.nodes)||[]}),dt=Be(()=>{var u;return((u=s(o))==null?void 0:u.edges)||[]}),Se=Be(()=>{const u={};for(const[l,g]of Object.entries(C))u[l]=g.length;return u});function Te(){return"session_"+Math.random().toString(36).slice(2)+Date.now().toString(36)}function Sn(){if(p)return;if(_>=w){console.error("[daggr] Max reconnection attempts reached");return}p=!0,s(v)||ae(v,Te(),!0);const l=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/${s(v)}`;console.log("[daggr] Connecting to",l);try{f=new WebSocket(l)}catch(g){console.error("[daggr] Failed to create WebSocket:",g),p=!1,sn();return}f.onopen=()=>{console.log("[daggr] WebSocket connected"),p=!1,ae(d,!0),_=0,f==null||f.send(JSON.stringify({action:"get_graph"}))},f.onmessage=g=>{const E=JSON.parse(g.data);vr(E)},f.onclose=()=>{p=!1,ae(d,!1),sn()},f.onerror=g=>{console.error("[daggr] WebSocket error"),p=!1}}function sn(){if(h)return;_++;const u=Math.min(1e3*Math.pow(2,_),3e4);console.log(`[daggr] Reconnecting in ${u}ms (attempt ${_}/${w})`),h=window.setTimeout(()=>{h=null,Sn()},u)}function vr(u){var l,g;if(console.log("[daggr] received:",u.type,u),u.type==="graph")ae(o,u.data,!0);else if(u.type==="error"&&u.error)console.error("[daggr] server error:",u.error);else if(u.type==="node_complete"||u.type==="error"){const E=u.run_id,S=u.completed_node;if(E&&S){const T=`${E}:${S}`;if(!pe.has(T)){pe.add(T),C[S]&&(C[S]=C[S].filter(H=>H!==E));const O=b[E];O&&O.every(V=>pe.has(`${E}:${V}`))&&(delete b[E],setTimeout(()=>{for(const V of O)pe.delete(`${E}:${V}`)},1e3))}}if(u.nodes&&(ae(o,{...s(o),nodes:u.nodes,edges:u.edges||s(o).edges},!0),S)){const T=(l=u.nodes)==null?void 0:l.find(O=>O.name===S);if(T&&((g=T.output_components)==null?void 0:g.length)>0&&T.output_components.some(H=>H.value!=null)){q[S]||(q[S]=[]);const H=T.output_components.map(V=>({...V}));q[S]=[...q[S],H],ee[S]=q[S].length-1}}}}Eo(()=>(Sn(),()=>{h&&(clearTimeout(h),h=null),f&&(f.onclose=null,f.onerror=null,f.close(),f=null)}));function dr(u){const l=new Set,g=[u];for(;g.length>0;){const E=g.pop();for(const S of s(dt))if(S.to_node===E.replace(/ /g,"_").replace(/-/g,"_")){const T=s(qe).find(O=>O.id===S.from_node);T&&!T.is_input_node&&!l.has(T.name)&&(l.add(T.name),g.push(T.name))}}return Array.from(l)}function an(u,l,g){M[u]||(M[u]={}),M[u][l]=g}function on(u,l){var g;return((g=M[u.id])==null?void 0:g[l.port_name])??l.value??""}function Tn(u,l,g,E){te[u]||(te[u]={}),te[u][l]||(te[u][l]={}),te[u][l][g]=E}function Mn(u,l,g){var T,O,H,V;const E=(O=(T=te[u.id])==null?void 0:T[l])==null?void 0:O[g];if(E!==void 0)return E;const S=(H=u.item_list_items)==null?void 0:H.find(G=>G.index===l);return((V=S==null?void 0:S.fields)==null?void 0:V[g])??""}function Xn(u){var l;return u.is_input_node&&((l=u.input_components)!=null&&l.length)?u.input_components:Wi(u)}const Gn=220,Ge=36,Kn=1,Ar=8,Cr=22,Di=60;function Ii(u){const l=Math.max(u.inputs.length,u.outputs.length,1),E=Xn(u).length*Di;return Ge+Kn+Ar+l*Cr+E+Ar}let ps=Be(()=>{const u=new Map;for(const l of s(qe))u.set(l.id,l);return u});function hs(u){return Ge+Kn+Ar+u*Cr+Cr/2}let Li=Be(()=>{const u=[];for(const l of s(dt)){const g=s(ps).get(l.from_node),E=s(ps).get(l.to_node);if(!g||!E)continue;const S=g.outputs.indexOf(l.from_port),T=E.inputs.findIndex(J=>J.name===l.to_port);if(S===-1||T===-1)continue;const O=hs(S),H=hs(T),V=g.x+Gn,G=g.y+O,Me=E.x,ne=E.y+H,Ht=Math.abs(Me-V),Et=Math.max(Ht*.4,50),qt=l.is_scattered||!1,Yt=l.is_gathered||!1;let St=[];if(qt){const J=Me-30,Tt=8,Zn=`M ${V} ${G} C ${V+Et} ${G}, ${J-20} ${ne}, ${J} ${ne}`;St=[`M ${J} ${ne} L ${Me} ${ne-Tt}`,`M ${J} ${ne} L ${Me} ${ne}`,`M ${J} ${ne} L ${Me} ${ne+Tt}`],u.push({id:l.id,d:Zn,is_scattered:qt,is_gathered:Yt,forkPaths:St})}else if(Yt){const J=V+30,Tt=8;St=[`M ${V} ${G-Tt} L ${J} ${G}`,`M ${V} ${G} L ${J} ${G}`,`M ${V} ${G+Tt} L ${J} ${G}`];const Zn=`M ${J} ${G} C ${J+Et-30} ${G}, ${Me-Et} ${ne}, ${Me} ${ne}`;u.push({id:l.id,d:Zn,is_scattered:qt,is_gathered:Yt,forkPaths:St})}else{const J=`M ${V} ${G} C ${V+Et} ${G}, ${Me-Et} ${ne}, ${Me} ${ne}`;u.push({id:l.id,d:J,is_scattered:qt,is_gathered:Yt})}}return u});function Fi(){if(s(qe).length===0||!n)return;const u=40,l=n.getBoundingClientRect(),g=l.width,E=l.height;let S=1/0,T=1/0,O=-1/0,H=-1/0;for(const J of s(qe)){const Tt=Ii(J);S=Math.min(S,J.x),T=Math.min(T,J.y),O=Math.max(O,J.x+Gn),H=Math.max(H,J.y+Tt)}const V=O-S,G=H-T,Me=(g-u*2)/V,ne=(E-u*2)/G,Ht=Math.min(Me,ne,1.5),Et=(S+O)/2,qt=(T+H)/2,Yt=g/2-Et*Ht,St=E/2-qt*Ht;ae(r,{x:Yt,y:St,scale:Math.max(.2,Ht)},!0)}function Hi(){s(r).scale=Math.min(3,s(r).scale*1.2)}function Yi(){s(r).scale=Math.max(.2,s(r).scale/1.2)}function Bi(u){u.button===0&&u.target===n&&(ae(a,!0),ae(i,{x:u.clientX-s(r).x,y:u.clientY-s(r).y},!0))}function zi(u){s(a)&&(s(r).x=u.clientX-s(i).x,s(r).y=u.clientY-s(i).y)}function gs(){ae(a,!1)}function ji(u){const g=u.target.closest(".item-list-items, .map-items-list, .embedded-components");if(g&&!u.ctrlKey&&!u.metaKey){const E=g,S=E.scrollTop>0,T=E.scrollTop<E.scrollHeight-E.clientHeight,O=u.deltaY>0,H=u.deltaY<0;if(O&&T||H&&S)return}if(u.preventDefault(),u.ctrlKey||u.metaKey){const E=n.getBoundingClientRect(),S=u.clientX-E.left,T=u.clientY-E.top,O=(S-s(r).x)/s(r).scale,H=(T-s(r).y)/s(r).scale,V=u.deltaY>0?.97:1.03,G=Math.max(.2,Math.min(3,s(r).scale*V));ae(r,{x:S-O*G,y:T-H*G,scale:G},!0)}else ae(r,{...s(r),x:s(r).x-u.deltaX,y:s(r).y-u.deltaY},!0)}function Vi(u,l){u.stopPropagation();const g=`${l}_${Date.now()}_${Math.random().toString(36).slice(2)}`,T=[...dr(l),l].filter(O=>{if(O===l)return!0;const H=q[O];return!H||H.length===0});for(const O of T)C[O]||(C[O]=[]),C[O]=[...C[O],g];b[g]=T,f&&s(d)&&f.send(JSON.stringify({action:"run",node_name:l,inputs:M,item_list_values:te,selected_results:ee,run_id:g}))}function Ui(u){return`background: ${{FN:"#f97316",INPUT:"#06b6d4",MAP:"#a855f7",GRADIO:"#ea580c",MODEL:"#22c55e"}[u]||"#666"};`}function Wi(u){const l=q[u.name];if(!l||l.length===0)return u.output_components||[];const g=ee[u.name]??l.length-1;return l[g]||u.output_components||[]}function _r(u){var l;return((l=q[u])==null?void 0:l.length)||0}function Xi(u,l){u.stopPropagation();const g=ee[l]??0;g>0&&(ee[l]=g-1)}function Gi(u,l){u.stopPropagation();const g=_r(l),E=ee[l]??0;E<g-1&&(ee[l]=E+1)}let Ki=Be(()=>Math.round(s(r).scale*100));function Zi(u,l,g){u.stopPropagation(),console.log(`Replay item ${g} for node ${l}`)}let Nr=ke({}),Fe=ke({});function pr(u){if(!u||!isFinite(u))return"0:00";const l=Math.floor(u/60),g=Math.floor(u%60);return`${l}:${g.toString().padStart(2,"0")}`}function ms(u){return Fe[u]||{playing:!1,current:0,duration:0}}function ws(u,l){u.stopPropagation();const g=Nr[l];g&&(g.paused?g.play():g.pause())}function ys(u,l){u.stopPropagation();const g=Nr[l];if(!g||!g.duration)return;const E=u.currentTarget.getBoundingClientRect(),T=(u.clientX-E.left)/E.width;g.currentTime=T*g.duration}function kn(u,l){return Nr[l]=u,Fe[l]||(Fe[l]={playing:!1,current:0,duration:0}),u.onloadedmetadata=()=>{Fe[l]={...Fe[l],duration:u.duration}},u.ontimeupdate=()=>{Fe[l]={...Fe[l],current:u.currentTime}},u.onplay=()=>{Fe[l]={...Fe[l],playing:!0}},u.onpause=()=>{Fe[l]={...Fe[l],playing:!1}},u.onended=()=>{Fe[l]={...Fe[l],playing:!1,current:0}},{destroy(){}}}var Ft=Ml();Ft.__mousedown=Bi,Ft.__mousemove=zi,Ft.__mouseup=gs;var bs=k(y(Ft),2);{var Ji=u=>{var l=Po();x(u,l)},Qi=u=>{var l=Qe(),g=xe(l);{var E=S=>{var T=Do();x(S,T)};Y(g,S=>{s(o)||S(E)},!0)}x(u,l)};Y(bs,u=>{s(d)?u(Qi,!1):u(Ji)})}var Or=k(bs,2),xs=y(Or);ht(xs,21,()=>s(Li),u=>u.id,(u,l)=>{var g=Lo(),E=xe(g),S=k(E);{var T=O=>{var H=Qe(),V=xe(H);ht(V,17,()=>s(l).forkPaths,Ds,(G,Me)=>{var ne=Io();P(()=>ze(ne,"d",s(Me))),x(G,ne)}),x(O,H)};Y(S,O=>{s(l).forkPaths&&O(T)})}P(()=>ze(E,"d",s(l).d)),x(u,g)});var ea=k(xs,2);ht(ea,17,()=>s(qe),u=>u.id,(u,l)=>{const g=Be(()=>Xn(s(l)));var E=Tl(),S=y(E),T=y(S),O=y(T),H=k(T,2),V=y(H),G=k(H,2);{var Me=X=>{var ie=Bo();let fe;ie.__click=K=>Vi(K,s(l).name);var Ke=y(ie);{var it=K=>{var he=Fo();x(K,he)},He=K=>{var he=Ho();x(K,he)};Y(Ke,K=>{s(l).is_map_node?K(it):K(He,!1)})}var m=k(Ke,2);{var I=K=>{var he=Yo(),at=y(he);P(()=>j(at,s(Se)[s(l).name])),x(K,he)};Y(m,K=>{s(Se)[s(l).name]>0&&K(I)})}P(()=>{fe=Ys(ie,1,"run-btn svelte-1n46o8q",null,fe,{running:s(Se)[s(l).name]>0}),ze(ie,"title",s(l).is_map_node?"Run all items":"Run to here")}),x(X,ie)};Y(G,X=>{s(l).is_input_node||X(Me)})}var ne=k(S,2),Ht=y(ne);ht(Ht,21,()=>s(l).inputs,X=>X.name,(X,ie)=>{var fe=zo(),Ke=k(y(fe),2),it=y(Ke);P(()=>j(it,s(ie).name)),x(X,fe)});var Et=k(Ht,2);ht(Et,20,()=>s(l).outputs,X=>X,(X,ie)=>{var fe=jo(),Ke=y(fe),it=y(Ke);P(()=>j(it,ie)),x(X,fe)});var qt=k(ne,2);{var Yt=X=>{var ie=cl(),fe=xe(ie);ht(fe,21,()=>s(g),He=>He.port_name,(He,m)=>{var I=fl(),K=y(I);{var he=ge=>{var Ce=Wo(),re=y(Ce),Bt=y(re),ln=k(re,2);{var Ne=L=>{var D=Vo();D.__input=z=>an(s(l).id,s(m).port_name,z.target.value),P(z=>{var F,U;ze(D,"placeholder",((F=s(m).props)==null?void 0:F.placeholder)||""),ze(D,"rows",((U=s(m).props)==null?void 0:U.lines)||3),D.disabled=!s(l).is_input_node,tr(D,z)},[()=>on(s(l),s(m))]),x(L,D)},ot=L=>{var D=Uo();D.__input=z=>an(s(l).id,s(m).port_name,z.target.value),P(z=>{var F;ze(D,"placeholder",((F=s(m).props)==null?void 0:F.placeholder)||""),D.disabled=!s(l).is_input_node,tr(D,z)},[()=>on(s(l),s(m))]),x(L,D)};Y(ln,L=>{var D;(D=s(m).props)!=null&&D.lines&&s(m).props.lines>1?L(Ne):L(ot,!1)})}P(()=>{var L;return j(Bt,((L=s(m).props)==null?void 0:L.label)||s(m).port_name)}),x(ge,Ce)},at=ge=>{var Ce=Qe(),re=xe(Ce);{var Bt=Ne=>{var ot=Xo(),L=y(ot),D=y(L),z=k(L,2);z.__input=F=>an(s(l).id,s(m).port_name,parseFloat(F.target.value)),P(F=>{var U;j(D,((U=s(m).props)==null?void 0:U.label)||s(m).port_name),z.disabled=!s(l).is_input_node,tr(z,F)},[()=>on(s(l),s(m))]),x(Ne,ot)},ln=Ne=>{var ot=Qe(),L=xe(ot);{var D=F=>{var U=Go(),Z=y(U);Z.__change=me=>an(s(l).id,s(m).port_name,me.target.checked);var ue=k(Z,2),Ze=y(ue);P(me=>{var ce;Z.disabled=!s(l).is_input_node,Co(Z,me),j(Ze,((ce=s(m).props)==null?void 0:ce.label)||s(m).port_name)},[()=>on(s(l),s(m))]),x(F,U)},z=F=>{var U=Qe(),Z=xe(U);{var ue=me=>{var ce=Ko(),se=y(ce),Ye=y(se),zt=k(se,2),_t=y(zt);Ls(_t,()=>s(m).value||""),P(()=>{var Q;return j(Ye,((Q=s(m).props)==null?void 0:Q.label)||s(m).port_name)}),x(me,ce)},Ze=me=>{var ce=Qe(),se=xe(ce);{var Ye=_t=>{var Q=Zo(),Je=y(Q),$r=y(Je),Pr=k(Je,2),jt=y(Pr);Ls(jt,()=>s(m).value||""),P(()=>{var Vt;return j($r,((Vt=s(m).props)==null?void 0:Vt.label)||s(m).port_name)}),x(_t,Q)},zt=_t=>{var Q=Qe(),Je=xe(Q);{var $r=jt=>{var Vt=Jo(),hr=y(Vt),Dr=y(hr),Ir=k(hr,2),Ut=y(Ir);P(Mt=>{var fn;j(Dr,((fn=s(m).props)==null?void 0:fn.label)||s(m).port_name),j(Ut,Mt)},[()=>typeof s(m).value=="string"?s(m).value:JSON.stringify(s(m).value,null,2)]),x(jt,Vt)},Pr=jt=>{var Vt=Qe(),hr=xe(Vt);{var Dr=Ut=>{const Mt=Be(()=>`${s(l).id}_${s(m).port_name}`),fn=Be(()=>{var we;return((we=s(m).value)==null?void 0:we.url)||s(m).value}),Wt=Be(()=>ms(s(Mt)));var gr=rl(),kt=y(gr),un=y(kt),cn=k(kt,2);{var Jn=we=>{var pt=tl(),ye=xe(pt);Fs(ye,(Oe,vn)=>kn==null?void 0:kn(Oe,vn),()=>s(Mt));var Rt=k(ye,2),Xt=y(Rt);Xt.__click=Oe=>ws(Oe,s(Mt));var mr=y(Xt);{var aa=Oe=>{var vn=Qo();x(Oe,vn)},oa=Oe=>{var vn=el();x(Oe,vn)};Y(mr,Oe=>{s(Wt).playing?Oe(aa):Oe(oa,!1)})}var Lr=k(Xt,2);Lr.__click=Oe=>ys(Oe,s(Mt));var la=y(Lr),fa=k(Lr,2),ua=y(fa);P((Oe,vn)=>{ze(ye,"src",s(fn)),er(la,`width: ${s(Wt).duration?s(Wt).current/s(Wt).duration*100:0}%`),j(ua,`${Oe??""} / ${vn??""}`)},[()=>pr(s(Wt).current),()=>pr(s(Wt).duration)]),x(we,pt)},Qn=we=>{var pt=nl();x(we,pt)};Y(cn,we=>{s(fn)?we(Jn):we(Qn,!1)})}P(()=>{var we;return j(un,((we=s(m).props)==null?void 0:we.label)||s(m).port_name)}),x(Ut,gr)},Ir=Ut=>{var Mt=Qe(),fn=xe(Mt);{var Wt=kt=>{var un=al(),cn=y(un),Jn=y(cn),Qn=k(cn,2);{var we=ye=>{var Rt=sl();P(()=>{var Xt,mr;ze(Rt,"src",((Xt=s(m).value)==null?void 0:Xt.url)||s(m).value),ze(Rt,"alt",((mr=s(m).props)==null?void 0:mr.label)||"")}),x(ye,Rt)},pt=ye=>{var Rt=il();x(ye,Rt)};Y(Qn,ye=>{s(m).value?ye(we):ye(pt,!1)})}P(()=>{var ye;return j(Jn,((ye=s(m).props)==null?void 0:ye.label)||s(m).port_name)}),x(kt,un)},gr=kt=>{var un=ll(),cn=y(un),Jn=y(cn),Qn=k(cn,2);{var we=pt=>{var ye=ol(),Rt=y(ye);P(Xt=>j(Rt,Xt),[()=>typeof s(m).value=="string"?s(m).value:JSON.stringify(s(m).value,null,2)]),x(pt,ye)};Y(Qn,pt=>{s(m).value&&pt(we)})}P(()=>j(Jn,s(m).component)),x(kt,un)};Y(fn,kt=>{s(m).component==="image"?kt(Wt):kt(gr,!1)},!0)}x(Ut,Mt)};Y(hr,Ut=>{s(m).component==="audio"?Ut(Dr):Ut(Ir,!1)},!0)}x(jt,Vt)};Y(Je,jt=>{s(m).component==="json"?jt($r):jt(Pr,!1)},!0)}x(_t,Q)};Y(se,_t=>{s(m).component==="html"?_t(Ye):_t(zt,!1)},!0)}x(me,ce)};Y(Z,me=>{s(m).component==="markdown"?me(ue):me(Ze,!1)},!0)}x(F,U)};Y(L,F=>{s(m).component==="checkbox"?F(D):F(z,!1)},!0)}x(Ne,ot)};Y(re,Ne=>{s(m).component==="number"?Ne(Bt):Ne(ln,!1)},!0)}x(ge,Ce)};Y(K,ge=>{s(m).component==="textbox"||s(m).component==="text"?ge(he):ge(at,!1)})}x(He,I)});var Ke=k(fe,2);{var it=He=>{var m=ul(),I=y(m);I.__click=ge=>Xi(ge,s(l).name);var K=k(I,2),he=y(K),at=k(K,2);at.__click=ge=>Gi(ge,s(l).name),P((ge,Ce)=>{I.disabled=(ee[s(l).name]??0)===0,j(he,`${(ee[s(l).name]??0)+1}/${ge??""}`),at.disabled=Ce},[()=>_r(s(l).name),()=>(ee[s(l).name]??0)>=_r(s(l).name)-1]),x(He,m)};Y(Ke,He=>{!s(l).is_input_node&&_r(s(l).name)>1&&He(it)})}x(X,ie)};Y(qt,X=>{s(g).length>0&&X(Yt)})}var St=k(qt,2);{var J=X=>{var ie=ml(),fe=y(ie),Ke=y(fe),it=y(Ke),He=k(fe,2);ht(He,21,()=>s(l).map_items,m=>m.index,(m,I)=>{var K=gl();let he;var at=y(K),ge=y(at),Ce=k(at,2),re=y(Ce);{var Bt=L=>{const D=Be(()=>`${s(l).id}_map_${s(I).index}`),z=Be(()=>ms(s(D)));var F=_l(),U=xe(F);Fs(U,(Q,Je)=>kn==null?void 0:kn(Q,Je),()=>s(D));var Z=k(U,2),ue=y(Z);ue.__click=Q=>ws(Q,s(D));var Ze=y(ue);{var me=Q=>{var Je=vl();x(Q,Je)},ce=Q=>{var Je=dl();x(Q,Je)};Y(Ze,Q=>{s(z).playing?Q(me):Q(ce,!1)})}var se=k(ue,2);se.__click=Q=>ys(Q,s(D));var Ye=y(se),zt=k(se,2),_t=y(zt);P((Q,Je)=>{ze(U,"src",s(I).output),er(Ye,`width: ${s(z).duration?s(z).current/s(z).duration*100:0}%`),j(_t,`${Q??""} / ${Je??""}`)},[()=>pr(s(z).current),()=>pr(s(z).duration)]),x(L,F)},ln=L=>{var D=Qe(),z=xe(D);{var F=Z=>{var ue=pl(),Ze=y(ue);P(me=>{ze(ue,"title",s(I).output),j(Ze,me)},[()=>s(I).output.length>40?s(I).output.slice(0,40)+"...":s(I).output]),x(Z,ue)},U=Z=>{var ue=hl();x(Z,ue)};Y(z,Z=>{s(I).output?Z(F):Z(U,!1)},!0)}x(L,D)};Y(re,L=>{s(I).is_audio_output&&s(I).output?L(Bt):L(ln,!1)})}var Ne=k(Ce,2);Ne.__click=L=>Zi(L,s(l).name,s(I).index);var ot=y(Ne);P(()=>{he=Ys(K,1,"map-item svelte-1n46o8q",null,he,{"has-output":s(I).output}),j(ge,`${s(I).index??""}.`),ze(Ne,"title",s(I).output?"Replay this item":"Run this item"),j(ot,s(I).output?"↻":"▶")}),x(m,K)}),P(()=>j(it,`Items (${s(l).map_items.length??""})`)),x(X,ie)};Y(St,X=>{s(l).is_map_node&&s(l).map_items&&s(l).map_items.length>0&&X(J)})}var Tt=k(St,2);{var Zn=X=>{var ie=Sl(),fe=y(ie),Ke=y(fe),it=y(Ke),He=k(fe,2);ht(He,21,()=>s(l).item_list_items,m=>m.index,(m,I)=>{var K=ql(),he=y(K),at=y(he),ge=k(he,2);ht(ge,21,()=>s(l).item_list_schema,Ce=>Ce.port_name,(Ce,re)=>{var Bt=Qe(),ln=xe(Bt);{var Ne=L=>{const D=Be(()=>Mn(s(l),s(I).index,s(re).port_name));var z=yl();z.__change=F=>Tn(s(l).id,s(I).index,s(re).port_name,F.target.value),ht(z,21,()=>{var F;return((F=s(re).props)==null?void 0:F.choices)||[]},Ds,(F,U)=>{var Z=wl(),ue=y(Z),Ze={};P(()=>{No(Z,s(U)===s(D)),j(ue,s(U)),Ze!==(Ze=s(U))&&(Z.value=(Z.__value=s(U))??"")}),x(F,Z)}),x(L,z)},ot=L=>{var D=Qe(),z=xe(D);{var F=U=>{var Z=El(),ue=y(Z);{var Ze=ce=>{var se=bl();se.__input=Ye=>Tn(s(l).id,s(I).index,s(re).port_name,Ye.target.value),P(Ye=>{var zt;ze(se,"rows",((zt=s(re).props)==null?void 0:zt.lines)||2),tr(se,Ye)},[()=>Mn(s(l),s(I).index,s(re).port_name)]),x(ce,se)},me=ce=>{var se=xl();se.__input=Ye=>Tn(s(l).id,s(I).index,s(re).port_name,Ye.target.value),P(Ye=>tr(se,Ye),[()=>Mn(s(l),s(I).index,s(re).port_name)]),x(ce,se)};Y(ue,ce=>{var se;(se=s(re).props)!=null&&se.lines&&s(re).props.lines>1?ce(Ze):ce(me,!1)})}x(U,Z)};Y(z,U=>{(s(re).component==="textbox"||s(re).component==="text")&&U(F)},!0)}x(L,D)};Y(ln,L=>{s(re).component==="dropdown"?L(Ne):L(ot,!1)})}x(Ce,Bt)}),P(()=>j(at,`${s(I).index+1}.`)),x(m,K)}),P(()=>j(it,`Items (${s(l).item_list_items.length??""})`)),x(X,ie)};Y(Tt,X=>{s(l).item_list_schema&&s(l).item_list_items&&s(l).item_list_items.length>0&&X(Zn)})}P(X=>{er(E,`left: ${s(l).x??""}px; top: ${s(l).y??""}px; width: 220px;`),er(T,X),j(O,s(l).type),j(V,s(l).name)},[()=>Ui(s(l).type)]),x(u,E)});var Es=k(Or,2),qs=y(Es);qs.__click=Yi;var Ss=k(qs,2),ta=y(Ss),Ts=k(Ss,2);Ts.__click=Hi;var na=k(Ts,2);na.__click=Fi;var ra=k(Es,2),sa=y(ra),ia=y(sa);$o(Ft,u=>n=u,()=>n),P(()=>{var u;er(Or,`transform: translate(${s(r).x??""}px, ${s(r).y??""}px) scale(${s(r).scale??""})`),j(ta,`${s(Ki)??""}%`),j(ia,((u=s(o))==null?void 0:u.name)||"daggr")}),$s("mouseleave",Ft,gs),$s("wheel",Ft,ji),x(e,Ft),ni()}po(["mousedown","mousemove","mouseup","click","input","change"]);wo(kl,{target:document.getElementById("app")});
